# 데이터 저장구조와 특징

---

## 테이블과 인덱스의 분리형

### 분리형 테이블의 구조

분리형 구조의 특징: 데이터와 인덱스가 각각 독립된 세그먼트(Segment)에 저장

#### 데이터베이스의 물리적 저장 공간

- 테이블스페이스: 논리적인 저장 단위로, 물리적 데이터 파일(Datafile)로 구성
- 세그먼트(Segment): 테이블스페이스를 용도별로 나눈 것
- 오브젝트(Object): 세그먼트의 구성 요소

ROWID: 각 행(Row)이 지니는 고유한 물리적 주소 값이자 식별자. 인덱스에 존재하는 일종의 포인터.

### 클러스터링 팩터
인덱스 키의 순서와 테이블에 저장된 실제 데이터 행의 물리적 순서가 얼마나 유사한지를 나타내는 지표

### 분리형 테이블의 엑세스 영향요소
#### 넓은 범위의 엑세스 처리에 대한 대처방안
- 소형 테이블: 특별한 조치 불필요/

- 중형 테이블: 가장 중요한 엑세스 형태선정 후 조치의 당위성을 찾아내 이를 반영.

- 대형 테이블 (VLDB):
    - 단순 저장형 (로그 데이터 등)
    - 랜덤 액세스 위주 (고객 정보 등)
    - 혼합형 (매출 정보 등)

#### 클러스터링 팩터 향상 전략
엑세스가 빈번한 것들을 유사한 위치에 모여있도록

---

## 인덱스 일체형 테이블(Index-Organized Table)

### 분리형과 일체형의 비교

### 일체형 테이블의 구조 및 특징

### 논리적 ROWID와 물리적 주소(Physical Guess)

### 오버플로우 영역(Overflow Area)

### 일체형 테이블의 생성

---

## 클러스터링 테이블

### 클러스터링이란?
클러스터링이란 유사한 데이터가 모여있는 것

### 클러스터링의 테이블의 개념
특정 컬럼에 대해서 동일한 값을 가진 로우를 모아서 같은 장소에 저장하는 테이블

클러스터링 테이블은 단일 테이블 클러스터링과 다중 테이블 클러스터링이 존재

### 단일테이블 클러스터링
하나의 테이블에 대해서만 클러스터링을 하는 것

특정 컬럼 값을 기준으로 같은 값을 가진 로우를 같은 블록에 저장 -> 넓은 범위의 데이터를 조회할 때는 I/O가 줄어듦

### 다중테이블 클러스터링
두 개 이상의 테이블을 클러스터링하는 것

같은 컬럼을 기준으로 같은 값을 가진 로우를 모아서 저장. 즉, 조인할 로우를 미리 합쳐 자장하고 있으므로 JOIN이 발생하지 않음

### 클러스터링 테이블의 비용
같은 데이터를 모아서 저장하고 조회할 때 최소한의 I/O만을 사용하도록 하는 것이 핵심

허나, 모여 있는 값 이외의 값으로 조회할 땐 일반 테이블보다 비효율적일 수 있음

또한 같은 데이터를 모아서 저장하므로 조회 성능은 높아지지만, INSERT, UPDATE, DELETE 성능은 저하될 수 있음
